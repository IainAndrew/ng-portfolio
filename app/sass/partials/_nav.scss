@include keyframes(popup) {
  from {
    top:7rem;
  }
  to {
    top:0;
  }
}
@include keyframes(show) {
  to {
    opacity:1;
  }
}
nav {
  position:fixed;
  top:1rem;
  left:0rem;
  width:12rem;
  display:block;
  z-index:1;
  height:9rem;
  opacity:0;
  @include transition(top 0.7s $cubic);
  &.nav-show {
    //opacity:1;
    ul li {
      //@include animation(nav-show 0.6s $cubic forwards);
      //opacity:1;
      &:first-child {
        top:0;
        right:1.5rem;
      }
      &:nth-child(2) {
        top:3.5rem;
        right:1.5rem;
      }
      &:nth-child(3) {
        top:6rem;
        right:4.3rem;
      }
      span {
        display:block;
      }
    }
  }
  &.dark-labels {
    ul li span {
      color:#444;
    }
  }
  ul {
    li {
      color:#fff;
      font-size:1.4em;
      //opacity:0;
      -webkit-font-smoothing:antialiased;
      position:absolute;
      top:1rem;
      right:8rem;
      //@include transition(all 0.6s $cubic);
      //@include animation(nav-show 0.8s $cubic forwards 4s);
      .no-touch & {
        &:hover {
          i {
            @include transform(scale(1.1));
          }
          span {
            opacity:1;
          }
        }
      }
      &:first-child {
        @include transition(all 0.3s $cubic, margin 0.2s ease);
        i {
          background:$indigo-500;
        }
        .no-touch & {
          &:hover {
            margin-top:-0.1rem;
            margin-right:-0.3rem;
          }
        }
      }
      &:nth-child(2) {
        @include transition(all 0.4s $cubic, margin 0.2s ease);
        i {
          background:$pink-500;
        }
        .no-touch & {
          &:hover {
            margin-top:0.1rem;
            margin-right:-0.3rem;
          }
        }
      }
      &:nth-child(3) {
        @include transition(all 0.5s $cubic, margin 0.2s ease);
        i {
          background:$amber-500;
        }
        .no-touch & {
          &:hover {
            margin-top:0.2rem;
            margin-right:-0.3rem;
          }
        }
      }
      a {
        display:inline-block;
        @include media($desktop) {
          &:before {
            content:"";
            width:2rem;
            height:2rem;
            position:absolute;
            z-index:-1;
            left:50%;
            top:50%;
            @include transform(translate(-50%, -50%));
            border-radius:50%;
            background:rgba(#fff, 0.2);
          }
        }
        i {
          position:relative;
          display:inline-block;
          padding:0.4rem;
          border:2px solid;
          border-radius:50%;
          @include box-shadow-z1;
          @include transition(all 0.2s ease);
        }
        &.active {
          &:before {
            @include animation(nav-pulse 1s ease forwards);
          }
        }
      }
      span {
        position: absolute;
        top: 50%;
        @include transform(translateY(-40%));
        left: 100%;
        margin-left:1rem;
        @include nav-text;
        opacity:0;
        display:none;
        @include transition(all 0.2s ease);
        cursor:default;
      }
    }
  }
}
@include keyframes (nav-show) {
  to {
    opacity:1;
  }
}
@include keyframes (nav-pulse) {
  from {
    opacity:1;
  }
  50% {
    width:40rem;
    height:40rem;
    opacity:0;
  }
  100% {
    width:2rem;
    height:2rem;
    opacity:0;
  }

}
/* ROUNDED
nav {
  //display:none;
  position:fixed;
  top:1.3rem;
  left:4rem;
  width:90%;
  max-width:30rem;
  z-index:1;
  ul {
    width:100%;
    font-size:0;
    li {
      width:10rem;
      display:inline-block;
      @include nav-text;
      font-size:14px;
      text-align:center;
      position:relative;
      &:last-child {
        a {
          border-top-right-radius:35px;
          border-bottom-right-radius:35px;
        }
      }
      a {
        background:rgba(#fff, 0.8);
        color:rgba(#444, 0.4);
        text-decoration:none;
        display:block;
        padding:0.5rem;
        position:relative;
        @include transition(color 0.2s, background 0.2s ease);
        //padding-top:1rem;
        overflow:hidden;
        &.active {
          color:#444;
          background:rgba(#fff, 0.8);
          i {
            @include box-shadow-z1;
            background:#fff;
            color:$pink-500;
            @include transform(translateX(-50%) scale(1));
            &:after {
              opacity:1;
              @include transform(translate(-50%, -50%) scale(14));
            }
          }
        }
        .no-touch & {
          &:hover:not(.active) {
            background:rgba(#fff, 0.25);
          }
        }
        i {
          font-size: 1.3em;
          width: 1.8rem;
          line-height: 1.8rem;
          height: 1.8rem;
          //margin-bottom: -1rem;
          display: block;
          border-radius: 50%;
          position:relative;
          left:50%;
          @include transform(translateX(-50%) scale(0.8));
          @include transition(all 0.4s cubic-bezier(.8,-0.65,.31,1.84));
          &:after {
            content:"";
            width:1rem;
            height:1rem;
            background:rgba(#fff,0.1);
            z-index:-1;
            border-radius:50%;
            position:absolute;
            top:50%;
            left:50%;
            opacity:0;
            @include transform(translate(-50%, -50%) scale(1));
            @include transition(all 1s $cubic, opacity 0.1s ease);
          }
        }
      }
    }
  }
}
*/
/* ORIGINAL
nav {
  width:90%;
  max-width:520px;
  border-top-right-radius:7px;
  border-top-left-radius:7px;
  box-shadow:inset 0 10px 0 0 rgba(#fff, 0.05);
  @include media($desktop) {
    width:40%;
    min-width:450px;
  }
  //height:4rem;
  position:relative;
  left:50%;
  top:7rem;
  max-height:105px;
  @include transform(translateX(-50%));
  @include animation(popup 0.5s $cubic forwards);
  @include animation-delay(0.7s);
  &:after {
    content:"";
    position:absolute;
    height:1rem;
    width:100%;
    left:0;
    bottom:-1rem;
    background:rgba(#fff,0.2);
  }
  ul {
    width:100%;
    @include display(flex);
    li {
      //display:inline-block;
      list-style-type:none;
      width:percentage(4/12);
      @include nav-text;
      text-align:center;
      line-height:4rem;
      vertical-align:middle;
      position:relative;
      &:first-child {
        a {
          border-top-left-radius:7px;
        }
      }
      &:last-child {
        a {
          border-top-right-radius:7px;
        }
      }
      a {
        color:rgba(#fff, 0.4);
        text-decoration:none;
        display:block;
        background:rgba(#fff,0.2);
        position:relative;
        i {
          display:none;
        }
        @include transition(color 0.2s, background 0.2s ease);
        @include media($desktop) {
          padding-top:1rem;
          overflow:hidden;
          i {
            font-size: 1.3em;
            width: 2.5rem;
            line-height: 2.5rem;
            height: 2.5rem;
            margin-bottom: -1rem;
            display: block;
            border-radius: 50%;
            position:relative;
            left:50%;
            @include transform(translateX(-50%) scale(0.8));
            @include transition(all 0.4s cubic-bezier(.8,-0.65,.31,1.84));
            &:after {
              content:"";
              width:1rem;
              height:1rem;
              background:rgba(#fff,0.1);
              z-index:-1;
              border-radius:50%;
              position:absolute;
              top:50%;
              left:50%;
              opacity:0;
              @include transform(translate(-50%, -50%) scale(1));
              @include transition(all 1s $cubic, opacity 0.1s ease);
            }
          }
        }
        &:after {
          content: "";
          bottom:-0.5rem;
          left: 50%;
          @include transform(translateX(-50%));
          border: solid transparent;
          position: absolute;
          border-color: transparent;
          border-bottom-color:#fff;
          border-width: 0.5rem;
          opacity:0;
          @include transition(all 0.3s $cubic);
          @include media($desktop) {
            @include transition(all 0.7s $cubic);
          }
        }
        &.active {
          color:#fff;
          background:rgba(#fff, 0.25);
          @include media($desktop) {
            background:rgba(#fff,0.2);
          }
          i {
            @include box-shadow-z1;
            background:#fff;
            color:$pink-500;
            @include transform(translateX(-50%) scale(1));
            &:after {
              opacity:1;
              @include transform(translate(-50%, -50%) scale(14));
            }
          }
          &:after {
            bottom:-0.1rem;
            opacity:1;
          }
        }
        .no-touch & {
          &:hover:not(.active) {
            background:rgba(#fff, 0.25);
          }
        }
      }
    }
  }
}
*/